schemaVersion: "2.0.0"

metadataTest:
  env:
    - key: "NUMBAPRO_NVVM"
      value: "/usr/local/cuda-9.2/nvvm/lib64/libnvvm.so"
    - key: "NUMBAPRO_LIBDEVICE"
      value: "/usr/local/cuda-9.2/nvvm/libdevice/"
    - key: "LD_LIBRARY_PATH"
      value: "/conda/envs/cudf/lib/"
  exposedPorts: ["80", "9001"]
  volumes: ["/blazingsql", "/tmp"]
  cmd: ["/usr/bin/supervisord", "-c", "/etc/supervisor/supervisord.conf"]
  workdir: "/home/jupyter"

fileExistenceTests:

  - name: 'orchestrator'
    path: '/home/jupyter/blazingdb_orchestator_service'
    shouldExist: true
    permissions: '-rwxr-xr-x'

  - name: 'ral'
    path: '/home/jupyter/testing-libgdf'
    shouldExist: true
    permissions: '-rwxr-xr-x'

  - name: 'calcite'
    path: '/home/jupyter/BlazingCalcite.jar'
    shouldExist: true
    permissions: '-rw-r--r--'
